<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Tuyển dụng</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>

</head>
<body>
<header>
    <h1>Quản lý Tuyển dụng</h1>
    <nav>
        <ul>
            <li><a href="admin_dashboard.html"><button>Quay lại Bảng điều khiển</button></a></li>
            <li><a href="intern_profiles.html"><button>Quản lý Hồ sơ Thực tập sinh</button></a></li>
            <li><a href="reporting_analysis.html"><button>Báo cáo và Phân tích</button></a></li>
        </ul>
    </nav>
</header>

<main>
    <h2>Thêm Chiến dịch Tuyển dụng</h2>
    <form id="recruitmentForm">
        <table border="1" cellspacing="0" cellpadding="5">
            <tr>
                <th>Tên Chiến dịch</th>
                <th>Vị trí Tuyển dụng</th>
                <th>Mức Lương</th>
                <th>Trình độ Học vấn</th>
            </tr>
            <tr>
                <td><input type="text" id="campaignName" name="campaignName" required></td>
                <td><input type="text" id="position" name="position" placeholder="Nhập các vị trí, ngăn cách bởi dấu phẩy" required></td>
                <td><input type="text" id="salary" name="salary" placeholder="Nhập các mức lương, ngăn cách bởi dấu phẩy" required></td>
                <td><input type="text" id="education" name="education" placeholder="Nhập các trình độ, ngăn cách bởi dấu phẩy" required></td>
            </tr>
        </table>
        <br>
        <button type="submit">Thêm Chiến dịch</button>
    </form>

    <h2>Danh sách Chiến dịch Tuyển dụng</h2>
    <table id="recruitmentTable" border="1" cellspacing="0" cellpadding="5">
        <thead>
        <tr>
            <th>Tên Chiến dịch</th>
            <th>Vị trí</th>
            <th>Mức Lương</th>
            <th>Trình độ Học vấn</th>
            <th>Hành động</th>
        </tr>
        </thead>
        <tbody>
        <!-- Thông tin chiến dịch tuyển dụng sẽ được thêm tại đây -->
        </tbody>
    </table>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        let recruitments = JSON.parse(localStorage.getItem('recruitments')) || [];

        function displayRecruitments() {
            const recruitmentTableBody = document.querySelector('#recruitmentTable tbody');
            recruitmentTableBody.innerHTML = '';

            recruitments.forEach((recruitment, index) => {
                let row = document.createElement('tr');

                row.innerHTML = `
                    <td>${recruitment.name}</td>
                    <td>${recruitment.position}</td>
                    <td>${recruitment.salary}</td>
                    <td>${recruitment.education}</td>
                    <td><button onclick="deleteRecruitment(${index})">Xóa</button></td>
                `;

                recruitmentTableBody.appendChild(row);
            });
        }

        function deleteRecruitment(index) {
            recruitments.splice(index, 1);
            localStorage.setItem('recruitments', JSON.stringify(recruitments));
            displayRecruitments();
        }

        document.querySelector('#recruitmentForm').addEventListener('submit', function (e) {
            e.preventDefault();

            let recruitment = {
                name: document.querySelector('#campaignName').value.trim(),
                position: document.querySelector('#position').value.trim(),
                salary: document.querySelector('#salary').value.trim(),
                education: document.querySelector('#education').value.trim(),
            };

            recruitments.push(recruitment);
            localStorage.setItem('recruitments', JSON.stringify(recruitments));
            displayRecruitments();

            // Xóa form sau khi thêm
            document.querySelector('#recruitmentForm').reset();
        });

        displayRecruitments();
    });
    syncNameInput('internName'); // ID của ô nhập liệu tên thực tập sinh
    autoFillName('profileName'); // ID của phần tử hiển thị tên thực tập sinh
</script>

</body>
</html>
